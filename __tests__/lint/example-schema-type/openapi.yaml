openapi: '3.1.0'
info:
  version: v0
  title: my_Api
  description: my_api
  contact:
    name: my_api
  license:
    name: Proprietary
    url: https://my_api.com
servers:
  - url: https://my_api.com

paths:
  /my_post:
    post:
      operationId: my_post
      description: my post
      summary: my_post
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                id:
                  description: ID
                  allOf:
                    - $ref: '#/components/schemas/Test'
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiResponse'
components:
  schemas:
    ApiResponse:
      type: object
      example:
        status: 400
      properties:
        code:
          type: integer
          format: int32
          example: 23
    Test:
      type: object
      properties:
        my_list:
          type: string
          example: list
        nested:
          allOf:
            - $ref: '#/components/schemas/Dog'
            - type: object
              example:
                pet: dog
              properties:
                huntingSkill:
                  type: string
                  example: skill
                nested_schema:
                  oneOf:
                    - $ref: '#/components/schemas/Category'
    Dog:
      type: object
      example:
        status: 400
      properties:
        my_list:
          type: string
          example: my list
        nested:
          allOf:
            - $ref: '#/components/schemas/Tag'
    Category:
      properties:
        id:
          type: number
          description: Category ID
          example: 45.78
        ref_id:
          allOf:
            - $ref: '#/components/schemas/Id'
    Id:
      type: integer
      example: 78
    Tag:
      type: object
      properties:
        name:
          description: Tag name
          type: string
          example: tag
        my_tags:
          type: array
          example:
            - first tag
        one:
          type:
            - integer
            - string
          example: test
