# Redocly CLI quickstart guide

Take your first steps with the Redocly CLI by following the steps in this guide.

Before you start:

- [Install the Redocly CLI](./installation.md) if you haven't already
- If you have an OpenAPI description to use, have it handy (we assume it's called `openapi.yaml`), or [try our example](https://github.com/Redocly/openapi-starter/blob/main/openapi/openapi.yaml)
- Create a new project folder and `cd` into the folder
- Git clone the [openapi-starter](https://github.com/Redocly/openapi-starter) repo in the new project folder

{% admonition type="attention" %}
There's also an [openapi-starter](https://github.com/Redocly/openapi-starter) repository that you can clone and experiment with to get your bearings
{% /admonition %}

## Preview API documentation

Redocly CLI has support for showing a preview of [Redoc](https://redocly.com/redoc/) rendering your API docs, which updates when the API description updates.
Run the command:

```bash
redocly preview-docs openapi.yaml
```
The `redocly preview-docs` command triggers the creation of the doc preview for your API descriptions on your local machine. Once the doc preview has been generated, a url is printed as output to the CLI, as seen in the example below.

The API Doc preview takes a few moments to build. Upon completion, it provides the host and port where the preview server runs - typically `http://localhost:8080`.

```
Using Redoc community edition.
Login with redocly login or use an enterprise license key to preview with the premium docs.


  ðŸ”Ž  Preview server running at http://127.0.0.1:8080

  ðŸ‘€  Watching openapi-starter/openapi/openapi.yaml and all related resources for changes


Bundling...

Created a bundle for openapi-starter/openapi/openapi.yaml successfully
GET /: 18.123ms
GET /simplewebsocket.min.js: 4.256ms
GET /hot.js: 4.765ms
GET /openapi.json: 1.73ms
GET /favicon.ico: 1.556ms
```


Open that URL in your browser, and admire your lovely API documentation!

![Preview of API documentation](./images/preview-docs.png)

## Lint an OpenAPI description

Linting helps create consistent API descriptions and helps you avoid bugs, leading to a smoother developer experience. It enhances clarity, optimizes maintainability, facilitates ease of onboarding, and ultimately increases the adoption of the API.

The `lint` command is used to check that the OpenAPI description is compliant with a set of rules. You can define your own rules if you want to be specific, but to get started, try this:

```bash
redocly lint --extends minimal openapi.yaml
```

Example Output
```
validating openapi-starter/openapi/openapi.yaml...
[1] openapi-starter/openapi/openapi.yaml:72:10 at #/servers/1/url

Server `url` should not point to example.com or localhost.

70 |         default: www
71 |         description: Your tenant id
72 |   - url: https://example.com/api/v1
73 | paths:
74 |   '/users/{username}':

Warning was generated by the no-server-example.com rule.


openapi-starter/openapi/openapi.yaml: validated in 109ms

Woohoo! Your API description is valid. ðŸŽ‰
You have 1 warning.
```

The output shows any aspects where the OpenAPI doesn't meet the standard. If you get too much output, try adding the `--format summary` parameter to the command.

Feeling brave and highly API compliant? Try the `recommended` standard instead and see how yours measures up.

##  Eager to experiment? Give it a go and craft a custom rule set!

Some common first tasks include installation, linting an API definition and creating custom rule sets. As an example, we'll create a custom rule that ensures all operations in the API have a summary field, which explains the purpose of each operation. 

First, create your custom rule YAML file
```
touch custom-rule.yaml
```

Then, configure your custom-rule.yaml
```
rules:
  operation-has-summary:
    description: "All operations should have a summary."
    severity: error
    given: "$.paths[*][*]"
    then:
      field: "summary"
      function: truthy
```

Finally, run the following command:
```
redocly lint path/to/openapi.yaml --extends custom-rule.yaml
```

Example Output
```
validating openapi/openapi.yaml...
openapi/openapi.yaml: validated in 38ms

Woohoo! Your API description is valid. ðŸŽ‰
```
