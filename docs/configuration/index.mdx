---
title: Redocly CLI configuration
description: Learn how to configure Redocly CLI
redirectFrom:
  - /docs/cli/configuration/configuration-file/
---

import { JsonSchema } from '@redocly/developer-portal/ui';
import Schema from './schema.yaml';
import { StyledContent } from '../../components/styled.elements';

# Redocly configuration file

The Redocly configuration file controls options for the Redocly CLI tool.
It is also used across other Redocly products to help you control their behavior.

- Workflows uses it in the API registry to manage your APIs and control advanced features like region and link resolution.
- Reference uses it to apply your custom settings when building API reference documentation (hosted and on-premise).
- VS Code extension uses it for linting criteria, to apply custom settings for live documentation preview, and to set API definition root files.

## Filename and location

The Redocly configuration file must be named `redocly.yaml` or `.redocly.yaml`, and placed into your working directory or the root of your project (depending on the Redocly product you're using).

Redocly CLI will search for the configuration file in the working directory.

:::warning

Multiple configuration files in the same directory are not allowed.
If you have a `redocly.yaml` and a `.redocly.yaml` file  in the same directory, Redocly apps will display a warning in the output and ask you to choose one file to use.

:::

## File format and structure

The Redocly configuration file must be in YAML format.

<StyledContent>
  <JsonSchema
    schema={Schema}
    options={{
      schemaExpansionLevel:1,
    }}
  />
</StyledContent>

### Example
```yaml
organization: testing_redocly
apis:
  core@v2:
    root: ./openapi/openapi.yaml
    lint:
      rules:
        no-ambiguous-paths: error
  external@v1:
    root: ./openapi/external.yaml
    labels:
      - external
    features.openapi:
      hideLogo: true

lint:
  extends:
    - recommended

features.openapi:
  schemaExpansionLevel: 2
  generateCodeSamples:
    languages:
      - lang: curl
      - lang: Python
```

### apis object

The `apis` object is used to configure one or more APIs.
Every API in the object is identified by its name and version in the format `name@version`.
The version is optional, and when not provided, Redocly apps interpret it as `latest` by default.
Every `name@version` combination listed in the object must be unique.

For every API listed in the object, you must provide the path to the OpenAPI definition using the `root` property.

```yaml
apis:
  name@version:
    root: ./openapi/openapi.yaml
    labels:
      - production
    lint: []
    features.openapi: []
lint:
  rules:
    example-rule-name: error
features.openapi:
  pagination: section
  showConsole: true
  theme:
    menu:
      backgroundColor: '#fffff'
```

The `apis` object supports several optional properties for every listed API.

**labels**

Use it to assign one or more existing Redocly Workflows organization-wide labels to your APIs. You must have a Redocly Workflows account with an active organization, and add the top-level `organization` property to the configuration file.

If you try to assign labels that don't already exist for your organization, Redocly apps will display a warning in the output and will only assign the existing labels (if any).

**lint**

In addition to the global (top-level) `lint` object, you can add one to each API listed in `apis`. This allows you to use different rules and decorators for different APIs.

**features.openapi**

In addition to the global (top-level) `features.openapi` object, you can add one to each API listed in `apis`. This allows you to use different API reference docs settings for different APIs.
This object supports identical format and options as the global `features.openapi` object.


:::warning Important

Not all `lint` options are supported in per-API configuration.
Consult the table below to understand how each configuration object applies to your APIs.

:::


Configuration object | Per-API support | Behavior
-- | -- | --
lint.extends | ❗ | API settings override global settings.
lint.rules | ✅ | API and global settings merge. In case of conflict, API takes priority.
lint.decorators | ✅ | API and global settings merge. In case of conflict, API takes priority.
lint.preprocessors | ✅ | API and global settings merge. In case of conflict, API takes priority.
lint.plugins | ❌ | Available in global configuration only.
features.openapi | ✅ | API and global settings merge. In case of conflict, API takes priority.
features.mockServer | ✅ | API and global settings merge. In case of conflict, API takes priority.


Some of the Redocly CLI commands, such as the [lint command](../commands/lint.md), use the API names from the `apis` object as shortcuts for referencing API definitions.
You can tell the `lint` command to validate specific API definitions by using their names from the `apis` object, like in the following example:

```shell
openapi lint core
```

On the other hand, if you run the command without specifying any aliases, it will apply to all API definitions listed in the `apis` object:

```shell
openapi lint
```

### lint

The `lint` object's primary purpose is to define options for the `lint` and `bundle` commands.
You may also import plugins and extends their configurations.

Read more about the [lint configuration object](../guides/lint.md).


### features.mockServer

The API registry supports [the mock server feature](../../api-registry/guides/mock-server-quickstart.md) and allows project owners to enable it for all branches per API version.
When the mock server is enabled for an API, you can send test requests to it from any API client.

The `features.mockServer` object allows additional configuration of the mock server behavior.
This object is optional.

The `features.mockServer` object supports fields listed in the following table.

| Property | Type | Description |
| --- | --- | --- |
| errorIfForcedExampleNotFound | boolean | Users can force specific examples in the response by adding the optional `x-redocly-response-body-example` header to their requests. By default, if an example ID provided in the request is not found in the API definition, the mock server returns any other example. If you set `errorIfForcedExampleNotFound: true`, the mock server will return an error instead. Default value is `false`.|
| strictExamples | boolean | By default, the mock server automatically enhances responses with heuristics like substituting the response fields with request parameter values. To prevent this behavior, set `strictExamples: true`. When this is set, examples are returned in the response unmodified, exactly how they are defined in the OpenAPI document. Default value is `false`.|


### resolve object

Redocly will automatically resolve any API registry link or public URL in your API definitions. However, you may want to resolve links that are not API registry links or publicly accessible. To accomplish that, add the `resolve` object to the configuration file.

Redocly CLI only supports `http` headers. Only one `http` header per URL is supported in the `resolve` object.

We recommend using environment variables whenever possible.

#### Resolving external links

The `resolve` object should be structured like this:

```yaml
resolve:
  http:
    headers:
      - # header configuration
```

The `headers` object supports fields listed in the following table.

| Property | Description | Examples |
| --- | --- | --- |
| matches | Glob match against the URL. | `https://api.example.com/**` or `https://api.example.com/*.json`|
| name | HTTP header name. | `Authorization` or `X-API-KEY`|
| value | The value of the header. Mutually exclusive with `envVariable`. | `123-abc`|
| envVariable | The name of the environment variable that contains the value of the header. Mutually exclusive with `value`. |`SECRET_KEY`|

Here is an example for adding header definitions:

```yaml
resolve:
  http:
    headers:
      - matches: https://api.example.com/v2/**
        name: X-API-KEY
        envVariable: SECRET_KEY
      - matches: https://example.com/*/test.yaml
        name: Authorization
        envVariable: SECRET_AUTH
```

The first match takes precedence when a URL matches multiple patterns. Therefore, only the header from the first match will be used in the request.


### features.openapi object

The `features.openapi` object configures features (availability and options) and theming (style, fonts, colors) for API documentation generated from OpenAPI definitions.

Find the full list of supported options on the [Reference docs configuration page](../../api-reference-docs/configuration/index.mdx).
