openapi: 3.2.0
info:
  title: Test
  version: v1
security: []
servers:
  - name: Should allow name
    url: http://localhost
    wrong: Should catch wrong fields in servers!
$self: Should pass
tags:
  - name: cds
    summary: Music CDs
    description: Music CD catalog and reviews
    parent: products
    kind: nav

  - name: giftcards
    summary: Gift Cards
    description: Digital and physical gift cards
    parent: products
    kind: nav

  - name: digital-delivery
    summary: Digital Delivery
    description: Instantly delivered digital products
    kind: badge

paths:
  /products:
    get:
      tags:
        - giftcards
        - digital-delivery
      summary: List available gift cards
      responses:
        '200':
          description: Search results
  /stream:
    get:
      summary: Stream
      responses:
        200:
          description: Stream of updates
          content:
            text/event-stream:
              itemSchema: # Should allow itemSchema
                type: object
                properties:
                  id: { type: string }
                  data: { type: object }
  /thing:
    get:
      summary: a sample api
      responses:
        '200':
          description: OK
          content:
            multipart/mixed:
              itemSchema: # Should allow itemSchema
                $comment: A single data image from the device
              itemEncoding: # Should allow itemEncoding
                contentType: image/jpg
  /querystring:
    parameters:
      - in: querystring
        name: querystring_test
        content:
          application/x-www-form-urlencoded:
            schema:
              type: object
              properties:
                foo:
                  type: string
                bar:
                  type: boolean
            examples:
              spacesAndPluses:
                description: Note handling of spaces and "+" per media type.
                dataValue:
                  foo: a + b
                  bar: true
                serializedValue: foo=a+%2B+b&bar=true
        examples:
          spacesAndPluses:
            description: |
              Note that no additional percent encoding is done, as this
              media type is URI query string-ready by definition.
            dataValue:
              foo: a + b
              bar: true
            serializedValue: foo=a+%2B+b&bar=true
components:
  securitySchemes:
    petstore_auth:
      type: oauth2
      deprecated: true # Should allow deprecation
      oauth2MetadataUrl: http://localhost # Should be allowed
      flows:
        implicit:
          authorizationUrl: https://example.org/api/oauth/dialog
          wrong: Should catch wrong prop in oauth2 flows!
          scopes:
            write:pets: modify pets in your account
            read:pets: read your pets
